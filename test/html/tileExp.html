<!DOCTYPE html>
<html>
    <head>
        <title>tile使用示例</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="referrer" content="strict-origin-when-cross-origin">
        <!--  大致起完美适配的作用,试开发者不管像素比,只需按照css像素编写代码即可     -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
        <!--    请勿在项目正式环境中引用该 layui.css 地址     -->
       <!--  <link href="//cdn.staticfile.org/layui/2.8.17/css/layui.css" rel="stylesheet"> -->
        <link href="../plugin/layui/css/layui.css" rel="stylesheet">
        <!-- 当前使用特殊版本的layui,已将colortheme打包,这里不用单独引用 -- https://gitee.com/giteetcj/layui/tree/layuiframework/ -->
        <!-- <link href="../plugin/layuiframework/css/colortheme.css" rel="stylesheet"> -->
        <link href="../plugin/layuiframework/css/index.css" rel="stylesheet">
        <style>
            .layui-outline-side-fixed .layui-outline-ul li[level="4"]{
                padding-left: 56px;
            }
        </style>
    </head>
    <body>
        <div class="layui-fluid">
            <!-- 大屏时占大半屏幕(右侧为outline留位置),小屏时占全部屏幕 -->
            <div class="layui-col-xs12 layui-col-md10">
                <div class = "ws-content">
                    <div class = "layui-text ws-text">
                        <h1 lay-ignore >快捷菜单</h1>
                        <blockquote class="layui-elem-quote">
                            <p>快捷菜单组件<code>tile</code>是对WIN10-UI功能的扩展:在<a href="https://win10ui.yuri2.cn/src/doc">开发文档</a>的未来计划中,作者想要实现可拖拽磁贴的功能。<code>tile</code>单单针对这个功能来进行完善,希望能实现自定义菜单的效果。</p>
                        </blockquote>
                        <h2>创建快捷菜单</h2>
                        <p><code>tile</code>并不是一个对象,它是一个构造方法。可以通过这个方法来返回一个菜单对象(<code>tileInst</code>)</p>
                        <p>通过<code>layui.tile(destination, option)</code>可以创建并返回一个菜单对象(<code>tileInst</code>)</p>
                        <ul>
                            <li>参数<code>destination</code>必填,指定快捷菜单渲染的地点,是一个选择器字符串或者DOM对象</li>
                            <li>参数<code>option</code>是一个配置项,通过设置不同的参数来生成不同的快捷菜单</li>
                        </ul>
                        <h3>配置项信息</h3>
                        <h4>缓存地址</h4>
                        <p><code>cacheKey</code>指代快捷菜单在使用<code>layui.data</code>操作缓存时所用的key,为了防止多个实例之间的冲突,建议设置这一项</p>
                        <h4 lay-options = '{"hot":true}'>数据</h4>
                        <p><code>data</code>指代快捷菜单使用什么样的数据来渲染,是整个功能的核心</p>
                        <p><code>data</code>是一个数据类型的数据,数据的每一项代表一个块级的配置,块级配置里面的<code>source</code>属性也是一个数组,它代表的是这个块下面的所有的各个菜单的配置</p>
                        <blockquote class="layui-elem-quote">
                            <p>块级配置项</p>
                        </blockquote>
                        <table class="layui-table">
                            <colgroup>
                                <col width="150">
                                <col>
                                <col width="100">
                                <col width="100">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th>属性名</th>
                                    <th>描述</th>
                                    <th>类型</th>
                                    <th>默认值</th>
                                </tr> 
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>块的id,是这个块的唯一标志,在后期调用方法中仍然会用到</td>
                                    <td>string/number</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>name</td>
                                    <td>块的名称,在选中是会展示这个名称</td>
                                    <td>string</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>source</td>
                                    <td>块下面的所有菜单的配置项信息</td>
                                    <td>array</td>
                                    <td>-</td>
                                </tr>
                            </tbody>
                        </table>
                        <blockquote class="layui-elem-quote">
                            <p>菜单配置项</p>
                        </blockquote>
                        <ul>
                            <li>菜单显示的优先级为<code>img</code>大于<code>color</code>设置的背景(含<code>name</code>名称)大于默认背景(含<code>name</code>名称)</li>
                            <li>参数<code>cb</code>的优先级大于下面介绍的设置全局点击事件</li>
                            <li>参数<code>x</code><code>y</code><code>w</code><code>h</code>均为比例值,现在一个单位的像素长度是100px。为了开发方便,这项设置暂时没有提供出来,所以建议容器的宽度为360px以上比较好</li>
                            <li>参数<code>x</code>的取值范围是0到3;<code>w</code>的取值范围是0到3的优先级大于下面介绍的设置全局点击事件</li>
                            <li><span style="color: red;">注意:不需要太纠结xywh的问题,<code>tile</code>在排版时会进行优化,不设置或错误设置都会纠正</span></li>
                        </ul>
                        <table class="layui-table">
                            <colgroup>
                                <col width="150">
                                <col>
                                <col width="100">
                                <col width="100">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th>属性名</th>
                                    <th>描述</th>
                                    <th>类型</th>
                                    <th>默认值</th>
                                </tr> 
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>菜单的id,是这个菜单的唯一标志,在后期调用方法中仍然会用到</td>
                                    <td>string/number</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>name</td>
                                    <td>菜单的名称,在页面上可能展示该名称</td>
                                    <td>string</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>img</td>
                                    <td>菜单的背景图片地址,在页面上会展示这张图片</td>
                                    <td>string</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>color</td>
                                    <td>菜单的16进制背景颜色,在页面上可能使用这个颜色作为背景</td>
                                    <td>string</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>x</td>
                                    <td>菜单处于这个块的x的坐标,取值范围是0到3</td>
                                    <td>number</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>y</td>
                                    <td>菜单处于这个块的y的坐标,最小取值是0</td>
                                    <td>number</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>w</td>
                                    <td>菜单宽度比例,取值范围是1到3</td>
                                    <td>number</td>
                                    <td>1</td>
                                </tr>
                                <tr>
                                    <td>h</td>
                                    <td>菜单高度比例,最小取值是0</td>
                                    <td>number</td>
                                    <td>1</td>
                                </tr>
                                <tr>
                                    <td>cb</td>
                                    <td>菜单点击的回调函数(传入的是这个菜单的id)</td>
                                    <td>function</td>
                                    <td>-</td>
                                </tr>
                            </tbody>
                        </table>
                        <h2>实例方法</h2>
                        <p>在<code>tile</code>中,业务方法都是放在菜单对象(<code>tileInst</code>)实例中的</p>
                        <h3>动画设置</h3>
                        <p>使用<code>tileInst.setAnimate(classes, liveness)</code>可以为快捷菜单设置动画</p>
                        <ul>
                            <li>参数<code>classes</code>是动画样式class的字符串数组,动画样式class内置有"flip","bounceIn","flash","pulse","rubberBand","shake","headShake","swing",使用win10UI的animate.css改编而来</li>
                            <li>参数<code>liveness</code>动画系数,是0到1的浮点数字,数字越大动画越频繁。默认是0,没有动画</li>
                        </ul>
                        <h3>点击事件设置</h3>
                        <p>使用<code>tileInst.setClickEvent(callBack)</code>可以为快捷菜单设置全局点击事件</p>
                        <ul>
                            <li>参数<code>callBack</code>是点击事件的回调函数,在点击时会将被点击的快捷菜单的id传入</li>
                        </ul>
                        <h3>添加新菜单</h3>
                        <p>使用<code>tileInst.addTile(option)</code>可以为快捷菜单在一个新的块中添加一个菜单,其中<code>option</code>与上面的菜单配置项一致</p>
                        <ul>
                            <li>配置项<code>id</code>必填,是这个菜单的唯一标志,在后期调用方法中仍然会用到</li>
                            <li>配置项<code>name</code>可选,菜单的名称,在页面上可能展示该名称</li>
                            <li>配置项<code>img</code>可选,菜单的背景图片地址</li>
                            <li>配置项<code>color</code>可选,菜单的16进制背景颜色</li>
                            <li>配置项<code>x</code>可选,菜单处于这个块的x的坐标</li>
                            <li>配置项<code>y</code>可选,菜单处于这个块的y的坐标</li>
                            <li>配置项<code>w</code>可选,菜单宽度比例</li>
                            <li>配置项<code>h</code>可选,菜单高度比例</li>
                            <li>配置项<code>cb</code>可选,菜单点击的回调函数(传入的是这个菜单的id)</li>
                        </ul>
                        <p>使用<code>tileInst.insertTile(id,option)</code>可以为快捷菜单在指定id的块中添加一个菜单,其中<code>option</code>与上面的菜单配置项一致</p>
                        <ul>
                            <li>参数<code>id</code>必填,是指定块的唯一标志</li>
                            <li>参数<code>option</code>与上面<code>addTile</code>的配置项一致</li>
                        </ul>
                        <h2>示例</h2>
                        <p>接下来,通过一个小示例来快速上手<code>tile</code></p>
                        <!-- 快捷菜单示例 -- start -->
                        <div class = "layui-tab" lay-pre-code="快捷菜单示例" lay-options="{title: 'HTML', encode: 'true'}" >
                            <pre>
    {{ layui_html_head }}
    <div class="layui-card">
        <div class="layui-card-header">快捷菜单示例</div>
        <div class="layui-card-body" style="height: 600px;">
            <div id="layui-tile-demo1" class="layui-layer-tiles layui-windows-desk-scroll"></div>
        </div>
    </div>
    {{ layui_js_area }}
    <x3cscript type="text/javascript" >
        layui.use(['layer','tile'], function(){
            // 封装配置项
            let data = [
                {
                    id: 1,
                    name: "layui",
                    source: [
                        {
                            id: "layui",
                            name: "layui官网",
                            w: 2,
                            h: 2,
                            img: "../plugin/layuiframework/image/icon-1.png",
                            cb: function () {
                            window.open("https://gitee.com/layui/layui", "_target");
                            },
                        },
                        {
                            id: "layuiAdmin",
                            name: "layuiAdmin",
                            w: 1,
                            h: 1,
                            color: "#1E9FFF",
                            cb: function () {
                            window.open("https://dev.layuion.com/themes/layuiadmin/", "_target");
                            },
                        },
                    ],
                },
                {
                    id: 2,
                    source:[
                        {id: "test"}
                    ],
                }
            ];
            // 快捷菜单渲染
            let tileInst = layui.tile("#layui-tile-demo1", {
                cacheKey:'layui-tile-cache-demo1',
                data: data
            });
            // 动画设置
            tileInst.setAnimate(["flip","bounceIn","flash","pulse","rubberBand","shake","headShake","swing"], 0.5);
            // 设置全局点击事件,有两个设置了专属点击事件,这个事件只有test能生效,会弹出提醒信息
            tileInst.setClickEvent(function(id){
                layui.layer.msg(id, {icon: 6});
            });
        });
    </x3cscript>
    {{ layui_html_tail }}
                            </pre>
                        </div>
                        <!-- 快捷菜单示例 -- end -->
                        <div style="width: 100%;height: 360px;"></div>
                    </div>
                </div>
            </div>
        </div>
     <!--    请勿在项目正式环境中引用该 layui.js 地址     -->
    <!-- <script type="text/javascript" src="//cdn.staticfile.org/layui/2.8.17/layui.js"></script> -->
    <script type="text/javascript" src="../plugin/layui/layui.js"></script>
    <script type="text/javascript" src="../config.js"></script>
    <script type="text/javascript" src="../plugin/layuiframework/js/util.js"></script>
    <!-- 当前使用特殊版本的layui,已将colortheme打包,这里不用单独引用 -- https://gitee.com/giteetcj/layui/tree/layuiframework/ -->
    <!-- <script type="text/javascript" src="../plugin/layuiframework/js/colortheme.js"></script> -->
    <script type="text/javascript" src="../plugin/lay/example.js"></script>
    <script type="text/javascript">
        layui.example.render();
        layui.outline.render();
        layui.util.fixbar();
        layui.colortheme.run();
    </script>
    </body>
</html>


